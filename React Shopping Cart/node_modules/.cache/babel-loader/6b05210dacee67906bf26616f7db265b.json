{"ast":null,"code":"// 1. imports\nimport { useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport axios from \"axios\"; // 2. action definitions\n\nconst ADD_ITEM = \"cart/ADD_ITEM\";\nconst DEL_ITEM = \"cart/DEL_ITEM\";\nconst TOGGLE_CART = \"cart/TOGGLE_CART\"; // 3. initial state\n\nconst initialState = {\n  cart: [],\n  isOpen: false\n}; // 4. reducer\n\nexport default ((state = initialState, action) => {\n  switch (action.type) {\n    case ADD_ITEM:\n      return { ...state,\n        cart: [...state.cart, action.payload]\n      };\n\n    case TOGGLE_CART:\n      return { ...state,\n        isOpen: !state.isOpen\n      };\n\n    case DEL_ITEM:\n      return { ...state,\n        cart: [...state.cart.filter(product => product !== action.payload)]\n      };\n\n    default:\n      return state;\n  }\n}); // 5. action creators\n\nfunction addItem(product) {\n  return dispatch => {\n    dispatch({\n      type: ADD_ITEM,\n      payload: product\n    });\n  };\n}\n\nfunction delItem(product) {\n  return dispatch => {\n    dispatch({\n      type: DEL_ITEM,\n      payload: product\n    });\n  };\n}\n\nfunction toggleCart() {\n  return {\n    type: TOGGLE_CART\n  };\n} // 6. custom hook\n\n\nexport function useItems() {\n  const dispatch = useDispatch();\n  const cart = useSelector(appState => appState.cartState.cart);\n  const isOpen = useSelector(appState => appState.cartState.isOpen);\n\n  const add = product => dispatch(addItem(product));\n\n  const del = product => dispatch(delItem(product));\n\n  const toggle = () => dispatch(toggleCart());\n\n  const total = cart.reduce((a, b) => a + b.price, 0).toFixed(2);\n  useEffect(() => {\n    console.log(cart);\n  }, []);\n  return {\n    cart,\n    add,\n    isOpen,\n    toggle,\n    del,\n    total\n  };\n}","map":{"version":3,"sources":["/Users/punchcode/Desktop/Punchcode/Projects/react-shopping-cart/src/redux/ducks/cart/actions.js"],"names":["useEffect","useSelector","useDispatch","axios","ADD_ITEM","DEL_ITEM","TOGGLE_CART","initialState","cart","isOpen","state","action","type","payload","filter","product","addItem","dispatch","delItem","toggleCart","useItems","appState","cartState","add","del","toggle","total","reduce","a","b","price","toFixed","console","log"],"mappings":"AAAA;AACA,SAASA,SAAT,QAA0B,OAA1B;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CAEA;;AACA,MAAMC,QAAQ,GAAG,eAAjB;AACA,MAAMC,QAAQ,GAAG,eAAjB;AACA,MAAMC,WAAW,GAAG,kBAApB,C,CAEA;;AACA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,IAAI,EAAE,EADa;AAEnBC,EAAAA,MAAM,EAAE;AAFW,CAArB,C,CAIA;;AACA,gBAAe,CAACC,KAAK,GAAGH,YAAT,EAAuBI,MAAvB,KAAkC;AAC/C,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKR,QAAL;AACE,aAAO,EAAE,GAAGM,KAAL;AAAYF,QAAAA,IAAI,EAAE,CAAC,GAAGE,KAAK,CAACF,IAAV,EAAgBG,MAAM,CAACE,OAAvB;AAAlB,OAAP;;AACF,SAAKP,WAAL;AACE,aAAO,EAAE,GAAGI,KAAL;AAAYD,QAAAA,MAAM,EAAE,CAACC,KAAK,CAACD;AAA3B,OAAP;;AACF,SAAKJ,QAAL;AACE,aAAO,EACL,GAAGK,KADE;AAELF,QAAAA,IAAI,EAAE,CAAC,GAAGE,KAAK,CAACF,IAAN,CAAWM,MAAX,CAAkBC,OAAO,IAAIA,OAAO,KAAKJ,MAAM,CAACE,OAAhD,CAAJ;AAFD,OAAP;;AAIF;AACE,aAAOH,KAAP;AAXJ;AAaD,CAdD,E,CAeA;;AAEA,SAASM,OAAT,CAAiBD,OAAjB,EAA0B;AACxB,SAAOE,QAAQ,IAAI;AACjBA,IAAAA,QAAQ,CAAC;AACPL,MAAAA,IAAI,EAAER,QADC;AAEPS,MAAAA,OAAO,EAAEE;AAFF,KAAD,CAAR;AAID,GALD;AAMD;;AAED,SAASG,OAAT,CAAiBH,OAAjB,EAA0B;AACxB,SAAOE,QAAQ,IAAI;AACjBA,IAAAA,QAAQ,CAAC;AACPL,MAAAA,IAAI,EAAEP,QADC;AAEPQ,MAAAA,OAAO,EAAEE;AAFF,KAAD,CAAR;AAID,GALD;AAMD;;AAED,SAASI,UAAT,GAAsB;AACpB,SAAO;AACLP,IAAAA,IAAI,EAAEN;AADD,GAAP;AAGD,C,CAED;;;AACA,OAAO,SAASc,QAAT,GAAoB;AACzB,QAAMH,QAAQ,GAAGf,WAAW,EAA5B;AACA,QAAMM,IAAI,GAAGP,WAAW,CAACoB,QAAQ,IAAIA,QAAQ,CAACC,SAAT,CAAmBd,IAAhC,CAAxB;AACA,QAAMC,MAAM,GAAGR,WAAW,CAACoB,QAAQ,IAAIA,QAAQ,CAACC,SAAT,CAAmBb,MAAhC,CAA1B;;AACA,QAAMc,GAAG,GAAGR,OAAO,IAAIE,QAAQ,CAACD,OAAO,CAACD,OAAD,CAAR,CAA/B;;AACA,QAAMS,GAAG,GAAGT,OAAO,IAAIE,QAAQ,CAACC,OAAO,CAACH,OAAD,CAAR,CAA/B;;AACA,QAAMU,MAAM,GAAG,MAAMR,QAAQ,CAACE,UAAU,EAAX,CAA7B;;AACA,QAAMO,KAAK,GAAGlB,IAAI,CAACmB,MAAL,CAAY,CAACC,CAAD,EAAIC,CAAJ,KAAUD,CAAC,GAAGC,CAAC,CAACC,KAA5B,EAAmC,CAAnC,EAAsCC,OAAtC,CAA8C,CAA9C,CAAd;AAEA/B,EAAAA,SAAS,CAAC,MAAM;AACdgC,IAAAA,OAAO,CAACC,GAAR,CAAYzB,IAAZ;AACD,GAFQ,EAEN,EAFM,CAAT;AAGA,SAAO;AAAEA,IAAAA,IAAF;AAAQe,IAAAA,GAAR;AAAad,IAAAA,MAAb;AAAqBgB,IAAAA,MAArB;AAA6BD,IAAAA,GAA7B;AAAkCE,IAAAA;AAAlC,GAAP;AACD","sourcesContent":["// 1. imports\nimport { useEffect } from \"react\"\nimport { useSelector, useDispatch } from \"react-redux\"\nimport axios from \"axios\"\n\n// 2. action definitions\nconst ADD_ITEM = \"cart/ADD_ITEM\"\nconst DEL_ITEM = \"cart/DEL_ITEM\"\nconst TOGGLE_CART = \"cart/TOGGLE_CART\"\n\n// 3. initial state\nconst initialState = {\n  cart: [],\n  isOpen: false\n}\n// 4. reducer\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case ADD_ITEM:\n      return { ...state, cart: [...state.cart, action.payload] }\n    case TOGGLE_CART:\n      return { ...state, isOpen: !state.isOpen }\n    case DEL_ITEM:\n      return {\n        ...state,\n        cart: [...state.cart.filter(product => product !== action.payload)]\n      }\n    default:\n      return state\n  }\n}\n// 5. action creators\n\nfunction addItem(product) {\n  return dispatch => {\n    dispatch({\n      type: ADD_ITEM,\n      payload: product\n    })\n  }\n}\n\nfunction delItem(product) {\n  return dispatch => {\n    dispatch({\n      type: DEL_ITEM,\n      payload: product\n    })\n  }\n}\n\nfunction toggleCart() {\n  return {\n    type: TOGGLE_CART\n  }\n}\n\n// 6. custom hook\nexport function useItems() {\n  const dispatch = useDispatch()\n  const cart = useSelector(appState => appState.cartState.cart)\n  const isOpen = useSelector(appState => appState.cartState.isOpen)\n  const add = product => dispatch(addItem(product))\n  const del = product => dispatch(delItem(product))\n  const toggle = () => dispatch(toggleCart())\n  const total = cart.reduce((a, b) => a + b.price, 0).toFixed(2)\n\n  useEffect(() => {\n    console.log(cart)\n  }, [])\n  return { cart, add, isOpen, toggle, del, total }\n}\n"]},"metadata":{},"sourceType":"module"}
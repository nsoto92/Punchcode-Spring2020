{"ast":null,"code":"// 1. imports\nimport axios from \"axios\";\nimport { useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\"; // 2. action definitions\n\nconst GET_PRODUCTS = \"cart/GET_PRODUCTS\"; // 3. initial state\n\nconst initialState = {\n  products: []\n}; // 4. reducer\n\nexport default ((state = initialState, action) => {\n  switch (action.type) {\n    case GET_PRODUCTS:\n      return { ...state,\n        products: action.payload\n      };\n\n    default:\n      return state;\n  }\n}); // 5. action creators\n\nfunction getProducts() {\n  return dispatch => {\n    axios.get(\"/products\").then(resp => {\n      dispatch({\n        type: GET_PRODUCTS,\n        payload: resp.data\n      });\n    });\n  };\n} // 6. custom hook\n\n\nexport function useProducts() {\n  const dispatch = useDispatch();\n  const products = useSelector(appState => appState.productState.products);\n  useEffect(() => {\n    dispatch(getProducts());\n  }, []);\n  return {\n    products\n  };\n}","map":{"version":3,"sources":["/Users/punchcode/Desktop/Punchcode/Projects/react-shopping-cart/src/redux/ducks/product/actions.js"],"names":["axios","useEffect","useSelector","useDispatch","GET_PRODUCTS","initialState","products","state","action","type","payload","getProducts","dispatch","get","then","resp","data","useProducts","appState","productState"],"mappings":"AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,QAA0B,OAA1B;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC,C,CAEA;;AACA,MAAMC,YAAY,GAAG,mBAArB,C,CAEA;;AACA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,QAAQ,EAAE;AADS,CAArB,C,CAIA;;AACA,gBAAe,CAACC,KAAK,GAAGF,YAAT,EAAuBG,MAAvB,KAAkC;AAC/C,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKL,YAAL;AACE,aAAO,EAAE,GAAGG,KAAL;AAAYD,QAAAA,QAAQ,EAAEE,MAAM,CAACE;AAA7B,OAAP;;AACF;AACE,aAAOH,KAAP;AAJJ;AAMD,CAPD,E,CASA;;AACA,SAASI,WAAT,GAAuB;AACrB,SAAOC,QAAQ,IAAI;AACjBZ,IAAAA,KAAK,CAACa,GAAN,CAAU,WAAV,EAAuBC,IAAvB,CAA4BC,IAAI,IAAI;AAClCH,MAAAA,QAAQ,CAAC;AACPH,QAAAA,IAAI,EAAEL,YADC;AAEPM,QAAAA,OAAO,EAAEK,IAAI,CAACC;AAFP,OAAD,CAAR;AAID,KALD;AAMD,GAPD;AAQD,C,CAED;;;AACA,OAAO,SAASC,WAAT,GAAuB;AAC5B,QAAML,QAAQ,GAAGT,WAAW,EAA5B;AACA,QAAMG,QAAQ,GAAGJ,WAAW,CAACgB,QAAQ,IAAIA,QAAQ,CAACC,YAAT,CAAsBb,QAAnC,CAA5B;AAEAL,EAAAA,SAAS,CAAC,MAAM;AACdW,IAAAA,QAAQ,CAACD,WAAW,EAAZ,CAAR;AACD,GAFQ,EAEN,EAFM,CAAT;AAIA,SAAO;AAAEL,IAAAA;AAAF,GAAP;AACD","sourcesContent":["// 1. imports\nimport axios from \"axios\"\nimport { useEffect } from \"react\"\nimport { useSelector, useDispatch } from \"react-redux\"\n\n// 2. action definitions\nconst GET_PRODUCTS = \"cart/GET_PRODUCTS\"\n\n// 3. initial state\nconst initialState = {\n  products: []\n}\n\n// 4. reducer\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case GET_PRODUCTS:\n      return { ...state, products: action.payload }\n    default:\n      return state\n  }\n}\n\n// 5. action creators\nfunction getProducts() {\n  return dispatch => {\n    axios.get(\"/products\").then(resp => {\n      dispatch({\n        type: GET_PRODUCTS,\n        payload: resp.data\n      })\n    })\n  }\n}\n\n// 6. custom hook\nexport function useProducts() {\n  const dispatch = useDispatch()\n  const products = useSelector(appState => appState.productState.products)\n\n  useEffect(() => {\n    dispatch(getProducts())\n  }, [])\n\n  return { products }\n}\n"]},"metadata":{},"sourceType":"module"}